# OpenVPN UI ‚Äì Gerenciador Web de Clientes OpenVPN

Interface web simples e segura para **criar, listar, baixar e revogar clientes OpenVPN**  
utilizando **Easy-RSA j√° existente no servidor**, sem necessidade de acesso via SSH para tarefas do dia a dia.

A aplica√ß√£o executa scripts existentes de cria√ß√£o de clientes (`ovpn-novo-cliente.sh`)
e disponibiliza os arquivos `.ovpn` para download via navegador.

****** OBSERVACAO NECESSARIO EDITAR O SCRIPT PARA SETAR PASTA E IP DA VPN E SERVIDOR ******
---

## üìå Vis√£o Geral

- Interface web protegida por autentica√ß√£o
- Gera√ß√£o de clientes OpenVPN via Easy-RSA
- Download dos arquivos `.ovpn`
- Listagem de clientes existentes
- Revoga√ß√£o de certificados
- Execu√ß√£o **controlada** de scripts no servidor
- Funcionamento atr√°s de **NGINX + HTTPS**
- Ideal para servidores com m√∫ltiplos clientes VPN

---

## üß± Arquitetura

[ Browser ]
|
| HTTPS
v
[ NGINX (Reverse Proxy) ]
|
| HTTP interno
v
[ ovpn-ui (Node.js + Express) ]
|
| exec bash
v
[ Easy-RSA + OpenVPN ]

---

## üìÇ Estrutura do Projeto

ovpn-ui/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server.js
‚îú‚îÄ‚îÄ README.md

No servidor, fora do container:

**** EDITAR NO SCRIPT A PASTA

/home/USUARIO DO SERVIDOR/
‚îú‚îÄ‚îÄ openvpn-ca/               # Easy-RSA + PKI
‚îú‚îÄ‚îÄ openvpn-clients/          # Onde os .ovpn s√£o gerados
‚îú‚îÄ‚îÄ ovpn-novo-cliente.sh      # Script original
‚îú‚îÄ‚îÄ ovpn-novo-cliente.container.sh

---

## ‚úÖ Pr√©-requisitos do Servidor

### Sistema
- Linux (Ubuntu / Debian recomendado)
- Acesso root ou sudo

### Software
- Docker
- Docker Compose (opcional)
- OpenVPN j√° configurado
- Easy-RSA j√° inicializado
- NGINX (como reverse proxy)
- Certbot (Let's Encrypt)

---

## üîê Pr√©-requisitos do OpenVPN

O servidor **j√° deve ter**:

- Easy-RSA configurado
- CA criada
- PKI funcional
- Script de cria√ß√£o de clientes funcionando via terminal

Teste obrigat√≥rio antes de continuar:

```bash
cd /home/USUARIO DO SERVIDOR/openvpn-ca
/home/USUARIO DO SERVIDOR/ovpn-novo-cliente.container.sh teste_manual

### üê≥ Build da Imagem Docker

docker build -t ovpn-ui:latest .

### ‚ñ∂Ô∏è Subindo o Container

docker run -d --name ovpn-ui \
  --restart unless-stopped \
  --network iotalltech-net \
  -p 127.0.0.1:9001:9001 \
  -e UI_USER=admin \
  -e UI_PASS='SENHA_FORTE_AQUI' \
  -e PORT=9001 \
  -e OVPN_SCRIPT=/home/alison/ovpn-novo-cliente.container.sh \
  -e OVPN_OUTDIR=/home/USUARIO DO SERVIDOR/openvpn-clients \
  -v /home/USUARIO DO SERVIDOR/ovpn-novo-cliente.container.sh:/home/USUARIO DO SERVIDOR/ovpn-novo-cliente.container.sh:ro \
  -v /home/USUARIO DO SERVIDOR/openvpn-clients:/home/USUARIO DO SERVIDOR/openvpn-clients \
  -v /home/USUARIO DO SERVIDOR/openvpn-ca:/home/USUARIO DO SERVIDOR/openvpn-ca \
  -w /home/USUARIO DO SERVIDOR/openvpn-ca \
  ovpn-ui:latest
